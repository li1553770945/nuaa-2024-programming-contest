# 幻兽帕鲁

根据适应性情况，可以建一个二分图，一边为所有的帕鲁，另一边为所有的任务，根据适应性连边，算一个二分图最大匹配看是否等于任务数即可。

# 他到底有多少钱

当m=n时，直接输出Rich。

当价格为0的商品大于m时，直接输出"Impossible"。

其他情况下，设价格为0的书有z本，先把价格为0的书都去掉，从剩下的(n-z)本书中购买(m-z)本。其实经过思考不难发现，答案就是前(m-z)本书的价格之和，加上剩下(n-m)本书的最小价格减一。容易发现无论再增加多少钱，都会至少额外购买剩下的一本书。

# 飞行计划

使用分层图+最短路。

# 关灯

二分 $L$ ，每次操作令 $i$ 为最左边亮着的灯的下标即可。复杂度$O(n \log n)$。